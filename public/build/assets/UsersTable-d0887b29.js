import{g as S,T as k,c,w as t,r as o,o as i,S as T,d as e,b as a,e as _,x as g,y as v,n as F,t as U,u as B}from"./app-6671a1a6.js";import{_ as N,P as R}from"./PopupButton-1709f310.js";import{_ as A}from"./AppLayout-6a98379c.js";import{S as E,R as V,C as L,T as M,F as P}from"./FilterEnums-81336531.js";import H from"./UserRow-d7e50798.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-event-listener-1d91b1fd.js";import"./index-f0515acb.js";import"./PrimaryButton-b06a47cd.js";import"./UpdateUser-ea258978.js";import"./InputLabel-fb64be07.js";import"./TextCell-05cf149e.js";const j={components:{ConfirmationModel:N,PopupButton:R,AppLayout:A,SyncedTable:E,RowHeading:V,ColumnSelect:L,TextFilter:M,FilterEnums:P,UserRow:H},props:{table:Object,user_url:String,roles:Array},data(){return{table_key:S(0),show_create:!1,new_user_form:k({email:""})}},methods:{setCreate(d){this.show_create=d},createNewUser(){this.new_user_form.post("/dashboard/users/create",{preserveScroll:!0,onSuccess:()=>{this.setCreate(!1),this.table_key+=1}})}}},O={class:"flex flex-row"},q=a("p",null," Email: ",-1),z={key:0,class:"text-[red]"},G=a("th",null," Actions ",-1),I=a("div",{class:"text-white"}," Loading ...",-1);function J(d,n,K,Q,r,m){const f=o("ColumnSelect"),w=o("FilterEnums"),C=o("TextFilter"),p=o("PopupButton"),b=o("ConfirmationModel"),l=o("RowHeading"),h=o("UserRow"),x=o("SyncedTable"),y=o("AppLayout");return i(),c(y,{title:"users"},{fallback:t(()=>[I]),default:t(()=>[(i(),c(T,null,{default:t(()=>[(i(),c(x,{columns_url:"/dashboard/users/columns",data_url:"/dashboard/users/data",key:r.table_key},{actions:t(s=>[e(f,{initial_columns:s.state_data.columns,update:s.updateSelectedColumns},null,8,["initial_columns","update"]),e(w,{initial_filters:s.state_data.filters,update:s.updateFilters,columns:s.column_data},null,8,["initial_filters","update","columns"]),e(C,{update:s.updateFilters,column_name:"email"},null,8,["update"]),a("button",{class:"px-2 text-white bg-orange rounded my-2",onClick:n[0]||(n[0]=u=>m.setCreate(!0))}," New User "),e(b,{show:r.show_create,close:()=>m.setCreate(!1)},{title:t(()=>[_(" Create a new User ")]),body:t(()=>[a("div",O,[q,g(a("input",{"onUpdate:modelValue":n[1]||(n[1]=u=>r.new_user_form.email=u),class:"mx-3 px-2 text-primary border border-primary"},null,512),[[v,r.new_user_form.email]])]),r.new_user_form.errors.email?(i(),F("p",z,U(r.new_user_form.errors.email),1)):B("",!0)]),buttons:t(()=>[e(p,{onClick:m.createNewUser},{default:t(()=>[_(" Save ")]),_:1},8,["onClick"]),e(p,{onClick:n[2]||(n[2]=u=>m.setCreate(!1))},{default:t(()=>[_(" Cancel ")]),_:1})]),_:1},8,["show","close"])]),headings:t(()=>[e(l,{column_name:"id"}),e(l,{column_name:"name"}),e(l,{column_name:"email"}),e(l,{column_name:"updated_at"}),e(l,{column_name:"created_at"}),G]),row:t(s=>[e(h,{row:s.row},null,8,["row"])]),_:1}))]),_:1}))]),_:1})}const le=D(j,[["render",J]]);export{le as default};
